node-workflow:
  type: Workflow
  desc: |
    Node workflow for run the minimum data process like ETL/ELT/EL action.

  params:
    name:
      desc: "A node name."
      type: str

  jobs:
    start-node:
      desc: "A start node job"
      stages:
        - name: "Get and Start Node Information"
          id: start-node
          echo: "Start Node ..."

        - name: "Switch routing"
          uses: tasks/${{ stages.start-node.outputs.operator }}@${{ stage.start-node.outputs.task }}
          with:
            name: ${{ paras.node }}
            audit-date: ${{ params.audit-date }}

        - name: "Making Data Quality"
          echo: Start run data quality

        - name: "Clear log"
          echo: Clear logging and close node

        - name: "End node"
          echo: |
            End run node: ${{ params.name }}
